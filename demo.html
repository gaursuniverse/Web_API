<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <title>Document</title>
    <!--=============Navbar.css==============-->
    <link rel="stylesheet" href="Navbar.css">
    <!-- Link of CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <!--------Google font link-------->
    <link href="https://fonts.googleapis.com/css?family=Varela+Round&display=swap" rel="stylesheet">

    <!-- Link of Fontawsm CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" ></script>
  
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" ></script>
    <style>
        .heading h1{
            text-align: center;
            margin-top: 20px;
            
        }
        .card{
            border:2px solid black;
           text-align: center;
           
        }
       .card-link a{
            background-color: #f44336;
  color: white;
  padding: 10px 10px;
  text-align: center;
  text-decoration: none;
  border: 1px solid black;
  display: flex;
  justify-content: center;
  margin-left: auto;
  margin-right: auto;
  width: 20%;
        }
    </style>

</head>
<body>
    <!-- Navigation Bar start -->
    <section id="nav-bar">
        <nav class="navbar navbar-expand-lg navbar-light">
            <a class="navbar-brand" href="#"><img src="image.jpg" alt=""></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                  <a class="nav-link" href="#">HOME</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="our_initiatives.html">INITIATIVE</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">FAQ</a>
                  </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">LOGIN</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">SIGNUP</a>
                </li>
              </ul>
            </div>
          </nav>
           <!-- Navigation Bar end -->
    
    
    <div class="heading"><h1>Delete Any Record</h1></div>
        <div class="posts-list row">
      
    </div></div>

    <script>
        
        const postsList =document.querySelector('.posts-list');
        const addPostForm =document.querySelector('.add-post-form');
      
        let output='';

        const renderPosts =(posts) =>{
            posts.forEach(post=>{
               output +=` 
               <div class="card mt-4 col-md-6 bg-ligt">
           <div class="card-body" data-id=${post._id}>
            <p class="card-text2">${post.universityrollno}</p>
            <p class="card-text">${post.name}</p>
            <p class="card-text1">${post.section}</p>
            <p class="card-subtitle ">${post.emailid}</p>
             <p class="card-title">${post.CPI}</p>
             
             
           
            
            
             <a href="#" class="card-link" id="delete-post">delete</a>
           </div>
         </div>
         `;
           });
           postsList.innerHTML=output;
      
       

        }
       const url='http://localhost:3000/student';
        //get-read the studentdetails
        //method:get
        fetch(url)
        .then(res =>res.json())
        .then(data =>renderPosts(data))


        postsList.addEventListener('click',(e)=>{
           e.preventDefault();
           let delButtonIsPressed=e.target.id =='delete-post';
           let editButtonIsPressed=e.target.id =='edit-post';
          
           let id=e.target.parentElement.dataset.id;

           //delete-Remove the existing post
           //method:DELETE
           if(delButtonIsPressed){
              fetch(`${url}/${id}`,{
                  method:'DELETE',
              })
              .then(res =>res.json())
              .then(()=>location.reload())
           }
});

         
               

            
            
            
            //reset input field to empty
            titleValue.value='';
            titleValue1.value='';
            titleValue2.value='';
            titleValue3.value='';

            titleValue4.value='';
        
        
        
        </script>

         <!-- -------------------------Footer start------------------------- -->
         <footer>

            <section class="sec-2">
                <section class="about-sec">
                    <h2 class="ha">About</h2>
                    <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Non minus deserunt totam voluptatem, nam facilis unde in facere labore quo sit quas eum sequi, cum nulla similique quam amet est adipisci dolorem! Veniam eligendi aperiam impedit debitis. Quibusdam, magni eligendi. Officiis, facilis nesciunt commodi ex enim optio tempore. Adipisci, dolorum Lorem ipsum, dolor sit amet consectetur adipisicing elit. Molestiae.
                    </p>
                </section>

                <section class="link-1">
                    <h2>Catagories</h2>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Faq</a></li>
                        <li><a href="#">Api</a></li>
                        <li><a href="#">Pricing</a></li>
                        <li><a href="#">Initiatives</a></li>
                    </ul>
                </section>

                <section class="link-2">
                    <h2>Quick Links</h2>
                    <ul>
                        <li><a href="#">Offers</a></li>
                        <li><a href="#">Our Team</a></li>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Login</a></li>
                        <li><a href="#">Signin</a></li>
                    </ul>
                </section>

                <section class="link-3">
                    <h2>Get in touch With us</h2>
                    <ul>
                        <li><i class="fa fa-home"></i>  <span>GLAU, Mathura India</span></li>
                        <li><i class="fa fa-envelope"></i>  <span>stuapi@gmail.com</span></li>
                        <li><i class="fa fa-phone-square"></i>  <span>12131547046</span></li>
                        <li><i class="fa fa-facebook-official"></i>  <span>Webstu Api</span></li>
                    </ul>
                </section>
            </section>

            <hr width="100%" noshade="">
            <section class="sec-3">
                <h2>Register yourself</h2>
                <a href="#">Sign Up!</a>
                
            </section>
            <hr width="100%" noshade="">

            <section class="sec-4">
                <ul>
                    <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                    <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                    <li><a href="#"><i class="fa fa-google"></i> </a></li>
                    <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
                    <li><a href="#"><i class="fa fa-github"></i></a></li>
                </ul>
            </section>

            <section class="sec-5">
                <div class="copyright">
                    <p>
                        Copyright &copy; 2021 All Rights Are Reserved
                        
                    </p>
                </div>
            </section>
        </footer>
        <!-- ---------------------------Footer end--------------------------- -->
</body>
</html>